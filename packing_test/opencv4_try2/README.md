# incremetal build

- shell.nix позволит сбилдит проект с нужным флагами 
- при первой долгой компиляции нужно изменить скрипт так чтобы вытащить рабочую дерректорию с компиляцией

```
    buildPhase = ''
      make -j$(nproc)
      echo Path:
      echo $out
      mkdir -p $out/build
      cp -r * $out/build
      false
    '';
```
- затем вручную скопировать все папки к себе в систему в любой удобный для вас путь

- после определить путь до этой папки в своей системе, тогда компиляция будет проходить инкрементально

```
src = /home/bg/Documents/code/github.com/back2nix/nix/nix-shell/packing_test/opencv4_try2/release/source;
```

- в конце `nix-shell` должен происталить вашу модифицированную opencv в систему и можно будет компилировать
- прокты которые используют opencv и отлаживать
